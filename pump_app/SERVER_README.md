# Pump App æœå‹™å™¨ç®¡ç†è…³æœ¬

é€™å¥—è…³æœ¬æä¾›äº†å®Œæ•´çš„æœå‹™å™¨å•Ÿå‹•ã€åœæ­¢å’Œæ—¥èªŒç›£æ§åŠŸèƒ½ã€‚

## ğŸ“‹ è…³æœ¬èªªæ˜

### 1. `server.sh` - ä¸»ç®¡ç†è…³æœ¬ï¼ˆæ¨è–¦ä½¿ç”¨ï¼‰

çµ±ä¸€çš„æœå‹™å™¨ç®¡ç†å…¥å£ï¼Œæ”¯æŒæ‰€æœ‰æ“ä½œã€‚

```bash
# å•Ÿå‹•æœå‹™å™¨ï¼ˆé è¨­ç«¯å£ 3000ï¼‰
./server/server.sh start

# å•Ÿå‹•æœå‹™å™¨ï¼ˆæŒ‡å®šç«¯å£ï¼‰
./server/server.sh start 3001

# åœæ­¢æœå‹™å™¨
./server/server.sh stop

# é‡å•Ÿæœå‹™å™¨
./server/server.sh restart

# æŸ¥çœ‹ç‹€æ…‹
./server/server.sh status

# æŸ¥çœ‹æ—¥èªŒ
./server/server.sh logs

# å¯¦æ™‚è·Ÿéš¨æ—¥èªŒ
./server/server.sh logs --follow

# æŸ¥çœ‹éŒ¯èª¤æ—¥èªŒ
./server/server.sh logs --error
```

### 2. `start.sh` - å•Ÿå‹•è…³æœ¬

```bash
# å•Ÿå‹•æœå‹™å™¨ï¼ˆé è¨­ç«¯å£ 3000ï¼Œé¡¯ç¤ºæ—¥èªŒï¼‰
./server/start.sh

# å•Ÿå‹•æœå‹™å™¨ï¼ˆæŒ‡å®šç«¯å£ï¼‰
./server/start.sh 3001

# å•Ÿå‹•æœå‹™å™¨ï¼ˆä¸é¡¯ç¤ºæ—¥èªŒï¼‰
./server/start.sh 3000 --no-log
```

**åŠŸèƒ½ï¼š**
- âœ… è‡ªå‹•æª¢æŸ¥ç«¯å£æ˜¯å¦è¢«ä½”ç”¨
- âœ… è‡ªå‹•æª¢æŸ¥æ˜¯å¦å·²é‹è¡Œ
- âœ… è‡ªå‹•å®‰è£ä¾è³´ï¼ˆå¦‚æœç¼ºå°‘ï¼‰
- âœ… è¨˜éŒ„æ—¥èªŒåˆ° `logs/pump_app.log`
- âœ… å¯¦æ™‚é¡¯ç¤ºæ—¥èªŒè¼¸å‡ºï¼ˆå¯é¸ï¼‰

### 3. `stop.sh` - åœæ­¢è…³æœ¬

```bash
./stop.sh
```

**åŠŸèƒ½ï¼š**
- âœ… å„ªé›…åœæ­¢é€²ç¨‹
- âœ… è‡ªå‹•æ¸…ç† PID æ–‡ä»¶
- âœ… å¼·åˆ¶åœæ­¢ï¼ˆå¦‚æœå¿…è¦ï¼‰

### 4. `logs.sh` - æ—¥èªŒæŸ¥çœ‹è…³æœ¬

```bash
# æŸ¥çœ‹æœ€å¾Œ 50 è¡Œæ—¥èªŒ
./server/logs.sh

# æŸ¥çœ‹æœ€å¾Œ 100 è¡Œæ—¥èªŒ
./server/logs.sh --tail 100

# å¯¦æ™‚è·Ÿéš¨æ—¥èªŒ
./server/logs.sh --follow

# åªé¡¯ç¤ºéŒ¯èª¤æ—¥èªŒ
./server/logs.sh --error

# çµ„åˆä½¿ç”¨
./server/logs.sh --tail 200 --follow
```

## ğŸ“ æ–‡ä»¶çµæ§‹

```
pump_app/
â”œâ”€â”€ server/           # æœå‹™å™¨ç®¡ç†è…³æœ¬ç›®éŒ„
â”‚   â”œâ”€â”€ start.sh      # å•Ÿå‹•è…³æœ¬
â”‚   â”œâ”€â”€ stop.sh       # åœæ­¢è…³æœ¬
â”‚   â”œâ”€â”€ logs.sh       # æ—¥èªŒæŸ¥çœ‹è…³æœ¬
â”‚   â”œâ”€â”€ server.sh     # ä¸»ç®¡ç†è…³æœ¬
â”‚   â””â”€â”€ TEST_RESULTS.md # æ¸¬è©¦çµæœ
â”œâ”€â”€ logs/             # æ—¥èªŒç›®éŒ„ï¼ˆè‡ªå‹•å‰µå»ºï¼‰
â”‚   â””â”€â”€ pump_app.log  # æ‡‰ç”¨æ—¥èªŒ
â””â”€â”€ pump_app.pid      # é€²ç¨‹ ID æ–‡ä»¶ï¼ˆè‡ªå‹•å‰µå»ºï¼‰
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç¬¬ä¸€æ¬¡ä½¿ç”¨

```bash
cd pump_app
./server/server.sh start
```

### æ—¥å¸¸ä½¿ç”¨

```bash
# å•Ÿå‹•ä¸¦æŸ¥çœ‹æ—¥èªŒ
./server/server.sh start

# åœ¨å¦ä¸€å€‹çµ‚ç«¯æŸ¥çœ‹æ—¥èªŒ
./server/server.sh logs --follow

# æŸ¥çœ‹ç‹€æ…‹
./server/server.sh status

# åœæ­¢æœå‹™
./server/server.sh stop
```

## ğŸ“Š æ—¥èªŒç›£æ§

### å¯¦æ™‚ç›£æ§

```bash
# æ–¹æ³• 1: å•Ÿå‹•æ™‚è‡ªå‹•é¡¯ç¤º
./server/start.sh

# æ–¹æ³• 2: å•Ÿå‹•å¾ŒæŸ¥çœ‹
./server/server.sh logs --follow

# æ–¹æ³• 3: åªç›£æ§éŒ¯èª¤
./server/server.sh logs --error --follow
```

### æŸ¥çœ‹æ­·å²æ—¥èªŒ

```bash
# æŸ¥çœ‹æœ€å¾Œ 50 è¡Œ
./server/logs.sh

# æŸ¥çœ‹æœ€å¾Œ 200 è¡Œ
./server/logs.sh --tail 200

# ç›´æ¥æŸ¥çœ‹æ—¥èªŒæ–‡ä»¶
tail -f logs/pump_app.log
```

## ğŸ”§ é€²éšç”¨æ³•

### å¾Œå°é‹è¡Œï¼ˆä¸é¡¯ç¤ºæ—¥èªŒï¼‰

```bash
./server/start.sh 3000 --no-log
```

### å¤šå¯¦ä¾‹é‹è¡Œ

```bash
# çµ‚ç«¯ 1
./server/server.sh start 3000

# çµ‚ç«¯ 2
./server/server.sh start 3001
```

### è‡ªå‹•é‡å•Ÿï¼ˆä½¿ç”¨ watchï¼‰

```bash
# å®‰è£ nodemon æˆ–ä½¿ç”¨å…¶ä»–å·¥å…·
npm install -g nodemon
nodemon --exec "./server.sh restart"
```

## âš ï¸ æ³¨æ„äº‹é …

1. **ç«¯å£è¡çª**ï¼šå¦‚æœç«¯å£è¢«ä½”ç”¨ï¼Œè…³æœ¬æœƒè‡ªå‹•æç¤º
2. **PID æ–‡ä»¶**ï¼šåœæ­¢æœå‹™å¾Œæœƒè‡ªå‹•æ¸…ç† PID æ–‡ä»¶
3. **æ—¥èªŒæ–‡ä»¶**ï¼šæ—¥èªŒæœƒæŒçºŒç´¯ç©ï¼Œå»ºè­°å®šæœŸæ¸…ç†æˆ–ä½¿ç”¨æ—¥èªŒè¼ªè½‰
4. **æ¬Šé™**ï¼šç¢ºä¿è…³æœ¬æœ‰åŸ·è¡Œæ¬Šé™ï¼ˆ`chmod +x *.sh`ï¼‰

## ğŸ› æ•…éšœæ’é™¤

### æœå‹™ç„¡æ³•å•Ÿå‹•

```bash
# æª¢æŸ¥ç«¯å£
netstat -tlnp | grep 3000

# æª¢æŸ¥é€²ç¨‹
ps aux | grep react-scripts

# æŸ¥çœ‹æ—¥èªŒ
./logs.sh --tail 100
```

### æœå‹™ç„¡æ³•åœæ­¢

```bash
# æ‰‹å‹•æŸ¥æ‰¾ä¸¦åœæ­¢
ps aux | grep pump_app
kill <PID>

# æˆ–ä½¿ç”¨
pkill -f "react-scripts.*pump_app"
```

### æ—¥èªŒæ–‡ä»¶éå¤§

```bash
# æ¸…ç©ºæ—¥èªŒ
> logs/pump_app.log

# æˆ–ä½¿ç”¨æ—¥èªŒè¼ªè½‰å·¥å…·ï¼ˆå¦‚ logrotateï¼‰
```

## ğŸ“ ç¯„ä¾‹å·¥ä½œæµç¨‹

```bash
# 1. å•Ÿå‹•æœå‹™
./server/server.sh start 3000

# 2. åœ¨å¦ä¸€å€‹çµ‚ç«¯ç›£æ§æ—¥èªŒ
./server/server.sh logs --follow

# 3. é–‹ç™¼éç¨‹ä¸­æŸ¥çœ‹ç‹€æ…‹
./server/server.sh status

# 4. åœæ­¢æœå‹™
./server/server.sh stop

# 5. é‡å•Ÿæœå‹™
./server/server.sh restart
```

