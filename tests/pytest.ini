[pytest]
# Pytest 配置文件

# 測試文件匹配模式
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# 測試目錄
testpaths = tests

# 輸出選項
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes

# 標記定義
markers =
    unit: 單元測試
    integration: 整合測試
    modbus: MODBUS 相關測試
    mqtt: MQTT 相關測試
    sensor: 感測器相關測試
    control: 控制相關測試
    slow: 執行時間較長的測試
    requires_simulator: 需要模擬器運行
    requires_mqtt: 需要 MQTT Broker 運行

# 異步測試配置
asyncio_mode = auto

# 日誌配置
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# 最小 Python 版本
minversion = 7.0
